# 元素超载 | Elemental Overload

一款深度策略肉鸽游戏，融合《吸血鬼幸存者》的极简玩法与《暗黑破坏神》的构筑深度。

## 📜 项目需求来源

- **设计文档**：`游戏设计：吸血鬼幸存者类肉鸽.txt`
- 本仓库所有功能与规划均以该文档为蓝本逐步实现。

## 🎮 核心特性

- **元素协同系统**：四大基础元素（火、霜、电、土）可组合成强大的衍生元素
- **20分钟玩法螺旋**：从挣扎求存到毁天灭地的力量幻想体验
- **深度策略构筑**：元素进化、被动道具与能力协同的无尽组合
- **动态难度调整**："指挥家"系统确保挑战性与趣味性平衡

## 🛠️ 技术栈

- **引擎**：Phaser 3 - 成熟的2D网页游戏框架
- **语言**：TypeScript - 类型安全与代码可维护性
- **构建**：Vite - 快速的开发体验与优化的生产构建
- **部署**：Netlify - 零配置的持续部署

## 🚀 快速开始

### 安装依赖
```bash
npm install
```

### 本地开发
```bash
npm run dev
```

### 生产构建
```bash
npm run build
```

### 预览构建结果
```bash
npm run preview
```

## 📦 项目结构

```
elemental-overload/
├── src/
│   ├── scenes/          # Phaser场景：Boot、MainMenu、Game、UI
│   ├── entities/        # 游戏实体：Player、Enemy、Projectile等
│   ├── systems/         # 游戏系统：元素协同、升级、波次管理等
│   ├── utils/           # 工具函数与辅助类
│   └── main.ts          # 游戏入口
├── public/              # 静态资源：图片、音频等
├── netlify.toml         # Netlify部署配置
└── index.html           # HTML入口

```

## 📊 开发步骤计划与进度

### 阶段一：基础设施
- [x] 初始化 Vite + TypeScript + Phaser 项目骨架（`index.html`、`src/main.ts`）。
- [x] 构建多场景架构：`BootScene`、`MainMenuScene`、`GameScene`、`UIScene`。
- [x] 扁平化目录结构至仓库根目录，适配 Netlify 部署。

### 阶段二：核心玩法原型
- [x] 玩家系统（`src/entities/Player.ts`）：WASD 移动、冲刺、受击反馈。
- [x] 敌人系统（`src/entities/Enemy.ts`）：虫群、冰霜蝙蝠、岩石魔像原型。
- [x] 基础敌人生成（`GameScene.ts`）：边缘刷怪、碰撞伤害。
- [x] HUD 原型（`UIScene.ts`）：生命、计时器、击杀统计。
- [x] 玩家基础攻击与经验掉落。
- [x] 敌人多样行为与元素抗性。

### 阶段三：元素与成长系统
- [x] 基础元素能力实现（火/霜/电/土）。
- [x] 升级选择界面与能力卡片系统。
- [x] 能力管理器与升级机制。
- [x] 元素协同与衍生组合逻辑。
- [x] 元素进化与被动道具条件。

### 阶段四：局内成长与波次
- [x] 经验宝石与升级抽卡机制。
- [x] 重投/放逐功能（含金币系统）。
- [x] 波次脚本、精英与首领战。
- [x] "指挥家"动态难度调整系统。

### 阶段五：元进度与内容解锁
- [ ] 炼金工坊主菜单与元货币系统。
- [ ] 力量魔典（永久升级树）。
- [ ] 元素熔炉（角色/能力解锁任务）。
### 阶段六：表现与易用性
- [ ] 音效、粒子与屏幕震动等游戏感增强。
- [ ] 性能优化：对象池、四叉树、纹理图集等。
- [ ] 无障碍选项：高对比度、粒子开关、按键重映射。

> ✅ **当前完成度**：阶段一、二、三、四全部完成！游戏核心玩法已完整实现！

## 📖 设计文档

详细的游戏设计与技术实现方案请参考 `游戏设计：吸血鬼幸存者类肉鸽.txt`。

## 📈 当前成果摘要

- **玩家系统**：支持移动、冲刺、无敌帧、受击反馈，经验与等级系统，金币系统。
- **能力系统**：
  - 6种基础元素能力（火焰弹、冰霜箭、闪电链、大地之矛、火焰风暴、冰霜新星）
  - 6种衍生元素（熔岩、等离子、晶刺、超导体、暴雪、风暴）
  - 3种进化形态（火山喷发、超新星爆发、永恒冰封）
  - 支持升级与强化，自动检测元素组合条件
- **被动道具系统**：8种被动道具，提供全局加成（伤害、冷却、速度、生命等）。
- **升级界面**：
  - 玩家升级时暂停游戏，显示能力和道具混合选项
  - 支持稀有度系统（普通、稀有、史诗、传说）
  - 重投功能（消耗金币重新生成选项）
  - 放逐功能（永久移除不想要的能力）
- **投射物系统**：支持10种元素投射物（基础+衍生），具备不同的伤害、速度和特效。
- **经验系统**：敌人死亡掉落经验宝石，玩家靠近自动吸引，拾取后获得经验升级。
- **金币系统**：敌人死亡有概率掉落金币，用于升级界面的重投功能。
- **敌人系统**：
  - 3种基础敌人（虫群、冰霜蝙蝠、岩石魔像）
  - 3种精英敌人（精英虫群、精英冰霜蝙蝠、精英岩石魔像）
  - 2个首领（熔岩巨龟、炼金之混沌）
  - 元素抗性系统，不同敌人对不同元素有不同的抗性和弱点
  - 4种AI行为模式（追逐、逃离、环绕、保持距离）
- **波次系统**：
  - 20分钟脚本化波次，包含9个关键时间点
  - 10分钟和20分钟的首领战
  - 15分钟的精英波次
  - 波次提示信息和视觉效果
- **指挥家系统**：
  - 每30秒分析玩家表现（生命值、击杀速度、受到伤害）
  - 动态调整敌人数量和构成
  - 玩家表现好时增加挑战，陷入困境时降低难度
  - 不直接改变敌人强度，而是调整敌人多样性
- **战场循环**：`GameScene` 整合所有系统，处理游戏逻辑和难度调整。
- **HUD**：`UIScene` 实时展示生命、经验条、等级、计时器与击杀统计。
- **部署配置**：`netlify.toml` 与 `DEPLOY.md` 配置完成，`npm run build` 产出 `dist/`。

## 🔗 部署

本项目配置了Netlify自动部署，每次推送到main分支都会触发构建与发布。

## 📝 许可证

MIT License

---

**开发中** 🐶 正在全力打造这款充满策略深度的肉鸽游戏！✨
